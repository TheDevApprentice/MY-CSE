<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>R√©initialisation de votre mot de passe - Mon CSE</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
</head>
<body style="margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f6f9; line-height: 1.6;">
    <!-- Conteneur principal -->
    <table role="presentation" style="width: 100%; border-collapse: collapse; background-color: #f4f6f9;">
        <tr>
            <td style="padding: 40px 20px;">
                <!-- Container centr√© -->
                <table role="presentation" style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); overflow: hidden;">
                    
                    <!-- Header avec logo et branding -->
                    <tr>
                        <td style="background: linear-gradient(135deg, #dc2626 0%, #ef4444 50%, #f97316 100%); padding: 40px 30px; text-align: center; position: relative;">
                            <!-- Pattern de fond CSS simple -->
                            <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px); opacity: 0.3;"></div>
                            
                            <div style="position: relative; z-index: 1;">
                                <h1 style="margin: 0; color: rgb(56, 54, 54); font-size: 32px; font-weight: 700; text-shadow: 0 2px 4px rgba(0,0,0,0.3); letter-spacing: -0.5px;">
                                    üåê Mon CSE
                                </h1>
                                <p style="margin: 8px 0 0 0; color: rgb(70, 67, 67); font-size: 18px; font-weight: 500; opacity: 0.9;">
                                    Plateforme Comit√© d'Entreprise
                                </p>
                                <div style="width: 60px; height: 3px; background-color: #ffffff; margin: 20px auto 0; border-radius: 2px; opacity: 0.8;"></div>
                            </div>
                        </td>
                    </tr>
                    
                    <!-- Corps principal -->
                    <tr>
                        <td style="padding: 45px 35px;">
                            <!-- Badge de r√©initialisation -->
                            <div style="background-color: #fef2f2; border-radius: 25px; padding: 15px 25px; text-align: center; margin-bottom: 30px; border: 2px solid #dc2626;">
                                <span style="color: #dc2626 !important; font-weight: 700; font-size: 14px; text-shadow: none;">
                                    üîê R√âINITIALISATION DE MOT DE PASSE
                                </span>
                            </div>
                            
                            <!-- Salutation -->
                            <h2 style="margin: 0 0 25px 0; color: #1f2937 !important; font-size: 26px; font-weight: 700; line-height: 1.3;">
                                Bonjour {{ user.fullName || user.email }},
                            </h2>
                            
                            <!-- Message principal -->
                            <p style="margin: 0 0 25px 0; color: #374151 !important; font-size: 16px; line-height: 1.7;">
                                Vous avez demand√© la r√©initialisation de votre mot de passe pour votre compte <strong style="color: #1f2937 !important;">Mon CSE</strong>.
                            </p>
                            
                            <p style="margin: 0 0 30px 0; color: #374151 !important; font-size: 16px; line-height: 1.7;">
                                Voici votre code de v√©rification pour proc√©der √† la r√©initialisation :
                            </p>
                            
                            <!-- Code de v√©rification -->
                            <div style="background: linear-gradient(135deg, #fee2e2, #fecaca); border: 3px solid #dc2626; border-radius: 12px; padding: 30px; margin: 35px 0; text-align: center;">
                                <p style="margin: 0 0 10px 0; color: #7f1d1d !important; font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;">
                                    Votre code de v√©rification
                                </p>
                                <div style="background-color: #ffffff; border: 2px solid #dc2626; border-radius: 8px; padding: 20px; margin: 15px 0;">
                                    <span style="font-family: 'Courier New', monospace; font-size: 28px; font-weight: 800; color: #dc2626 !important; letter-spacing: 3px; text-shadow: none;">
                                        {{ user.validationCode }}
                                    </span>
                                </div>
                                <p style="margin: 10px 0 0 0; color: #7f1d1d !important; font-size: 12px; font-style: italic;">
                                    Copiez ce code dans le formulaire de r√©initialisation
                                </p>
                            </div>
                            
                            <!-- Instructions √©tape par √©tape -->
                            <div style="background-color: #f8fafc; border-radius: 12px; padding: 25px; margin: 35px 0; border-left: 5px solid #3b82f6; border: 1px solid #e2e8f0;">
                                <h3 style="margin: 0 0 15px 0; color: #1e40af !important; font-size: 18px; font-weight: 700; text-shadow: none;">
                                    üìã Comment r√©initialiser votre mot de passe :
                                </h3>
                                <ol style="margin: 0; padding-left: 20px; color: #374151 !important; font-size: 15px; line-height: 1.8;">
                                    <li style="margin-bottom: 12px; color: #374151 !important;">
                                        Retournez sur la page de <a href="{{ process.env.APP_URL }}/v1/auth/reset-password-validate/{{ user.validationCode }}" style="color: #1e40af !important; text-decoration: none; background-color: #dbeafe; padding: 4px 8px; border-radius: 4px; font-weight: 700; border: 1px solid #3b82f6;">r√©initialisation de mot de passe</a>
                                    </li>
                                    <li style="margin-bottom: 12px; color: #374151 !important;">
                                        Saisissez le <strong style="color: #dc2626 !important;">code de v√©rification</strong> ci-dessus
                                    </li>
                                    <li style="margin-bottom: 12px; color: #374151 !important;">
                                        Cr√©ez votre <strong style="color: #1f2937 !important;">nouveau mot de passe</strong> s√©curis√©
                                    </li>
                                    <li style="color: #374151 !important;">
                                        Connectez-vous avec vos <strong style="color: #1f2937 !important;">nouveaux identifiants</strong>
                                    </li>
                                </ol>
                            </div>
                            
                            <!-- Informations importantes s√©curit√© -->
                            <div style="background-color: #fef3c7; border: 2px solid #f59e0b; border-radius: 10px; padding: 25px; margin: 35px 0;">
                                <div style="display: flex; align-items: flex-start;">
                                    <span style="font-size: 20px; margin-right: 12px;">üîí</span>
                                    <div>
                                        <p style="margin: 0 0 12px 0; color: #92400e !important; font-weight: 700; font-size: 15px; text-shadow: none;">
                                            Informations de s√©curit√© importantes :
                                        </p>
                                        <ul style="margin: 0; padding-left: 16px; color: #92400e !important; font-size: 14px; line-height: 1.6;">
                                            <li style="color: #92400e !important;">Ce code expire dans <strong style="color: #78350f !important;">15 minutes</strong></li>
                                            <li style="color: #92400e !important;">Ne partagez <strong style="color: #78350f !important;">jamais</strong> ce code avec qui que ce soit</li>
                                            <li style="color: #92400e !important;">Utilisez un mot de passe <strong style="color: #78350f !important;">fort et unique</strong></li>
                                            <li style="color: #92400e !important;">En cas de doute, contactez votre <strong style="color: #78350f !important;">responsable CE</strong></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Support -->
                            <div style="background-color: #f1f5f9; border-radius: 8px; padding: 20px; margin: 30px 0; text-align: center; border: 1px solid #e2e8f0;">
                                <p style="margin: 0 0 8px 0; color: #374151 !important; font-size: 14px; font-weight: 700;">
                                    Besoin d'aide ?
                                </p>
                                <p style="margin: 0; color: #4b5563 !important; font-size: 13px; line-height: 1.5;">
                                    Contactez votre responsable CE ou notre support technique
                                </p>
                            </div>
                            
                            <!-- Message de s√©curit√© -->
                            <div style="background-color: #fee2e2; border: 1px solid #fca5a5; border-radius: 8px; padding: 20px; margin: 35px 0;">
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 18px; margin-right: 10px;">‚ö†Ô∏è</span>
                                    <p style="margin: 0; color: #7f1d1d !important; font-size: 13px; line-height: 1.5; font-weight: 600;">
                                        Si vous n'avez pas demand√© cette r√©initialisation, ignorez cet email et v√©rifiez la s√©curit√© de votre compte.
                                    </p>
                                </div>
                            </div>
                        </td>
                    </tr>
                    
                    <!-- Footer corporate -->
                    <tr>
                        <td style="background-color: #f8fafc; padding: 35px 30px; text-align: center; border-top: 2px solid #e2e8f0;">
                            <div style="margin-bottom: 20px;">
                                <h3 style="margin: 0 0 8px 0; color: #1e40af !important; font-size: 18px; font-weight: 700;">
                                    Mon CSE
                                </h3>
                                <p style="margin: 0; color: #374151 !important; font-size: 14px; font-weight: 600;">
                                    Votre plateforme digitale CE
                                </p>
                            </div>
                            
                            <div style="border-top: 1px solid #cbd5e1; padding-top: 20px;">
                                <p style="margin: 0 0 8px 0; color: #4b5563 !important; font-size: 13px;">
                                    Cet email a √©t√© envoy√© automatiquement par la plateforme Mon CSE
                                </p>
                                <p style="margin: 0; color: #6b7280 !important; font-size: 12px;">
                                    ¬© {{ new Date().getFullYear() }} Mon CSE - Tous droits r√©serv√©s
                                </p>
                            </div>
                        </td>
                    </tr>
                    
                </table>
            </td>
        </tr>
    </table>
</body>
</html>